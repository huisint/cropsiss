!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ya=t():e.ya=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return Object.prototype.toString.call(e).slice(8,-1)}function o(e,t){return null!=t&&i(t)===e}function u(e){return o("Object",e)}function a(e){return o("Array",e)}function l(e){return o("String",e)}function s(e){return Math.abs(e)===1/0}function f(e){return o("Number",e)&&!v(e)&&!s(e)}function c(e){return o("Boolean",e)}function d(e){return o("Map",e)}function p(e){return null===e}function g(e){return void 0===e}function v(e){return!("object"!==r(e)||!o("Number",e)||!isNaN(e))||o("Number",e)&&e!=e}function y(e){return""+e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return f(e=Number(e))?e:t}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=h(e,t))===t?e:parseInt(e)}function m(e){var t=e.split("#")[0].split("?");return 1===t.length?null:t.slice(1).join("?")}Object.defineProperty(t,"__esModule",{value:!0}),t.default={getType:i,is:o,isObject:u,isArray:a,isString:l,isNumber:f,isBoolean:c,isMap:d,isPrimitive:function(e){return f(e)||l(e)||c(e)},isFunction:function(e){return o("Function",e)},isNull:p,isNaN:v,isUndefined:g,findKey:function(e,t){return o("Object",e)&&Object.prototype.hasOwnProperty.call(e,t)},isUUID:function(e){return null!==e.match(/^[\da-fA-F]{8}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{12}$/)},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},merge:function(){for(var e=arguments,t=arguments.length,n={},r=function(t){var r=t<0||e.length<=t?void 0:e[t];Object.keys(r).forEach((function(e){n[e]=r[e]}))},i=0;i<t;i++)r(i);return n},getTime:function(){return(new Date).getTime()},normalizeToString:y,normalizeToNumber:h,normalizeToInt:b,normalizeToUnsignedInt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=b(e,t))===t||e>=0?e:t},isEmpty:function(e){return!!(p(e)||g(e)||v(e))||(l(e)?""===e:f(e)||s(e)?0===e:u(e)?0===Object.keys(e).length:a(e)?0===e.length:!!d(e)&&0===e.size)},snakeToLCC:function(e){return(e=y(e).replace(/_+([a-z])/g,(function(e,t){return t.toUpperCase()}))).charAt(0).toLowerCase()+e.slice(1)},urlQueryBuild:function(e){return Object.keys(e).map((function(t){return[t,e[t]].map(y).map(encodeURIComponent).join("=")})).join("&")},urlQueryString:m,urlQueryParse:function(e){return m("?".concat(e)).split("&").reduce((function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=n[1]),e}),{})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2));t.CLog=i.default;var o=r(n(0));t.Util=o.default;var u=r(n(3));t.Browser=u.default},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0));function u(){return["Object","Console"].indexOf(o.default.getType(console))>=0?console:{}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"debug",value:function(){var t=u();if(this.logLevel>=e.DEBUG){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];o.default.isFunction(t.debug)?this.printLog(t.debug,r):o.default.isFunction(t.log)&&(r.unshift("[DEBUG]"),this.printLog(t.log,r))}}},{key:"info",value:function(){var t=u();if(this.logLevel>=e.INFO){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];o.default.isFunction(t.info)?this.printLog(t.info,r):o.default.isFunction(t.log)&&(r.unshift("[INFO]"),this.printLog(t.log,r))}}},{key:"warning",value:function(){var t=u();if(this.logLevel>=e.WARNING){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];o.default.isFunction(t.warn)?this.printLog(t.warn,r):o.default.isFunction(t.log)&&(r.unshift("[WARN]"),this.printLog(t.log,r))}}},{key:"error",value:function(){var t=u();if(this.logLevel>=e.CRITICAL){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];o.default.isFunction(t.error)?this.printLog(t.error,r):o.default.isFunction(t.log)&&(r.unshift("[ERROR]"),this.printLog(t.log,r))}}},{key:"printLog",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],u=new Date;i.unshift("[".concat(u.toLocaleTimeString(),".").concat(u.getUTCMilliseconds(),"]")),o.default.isEmpty(this._prefix)||i.unshift(this._prefix),r.apply(console,i)}},{key:"NONE",get:function(){return 0}},{key:"CRITICAL",get:function(){return 1}},{key:"WARNING",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"prefix",set:function(e){this._prefix=e}},{key:"defaultLogLevel",get:function(){return this.CRITICAL}},{key:"logLevel",get:function(){return o.default.isNumber(this._logLevel)?this._logLevel:this.defaultLogLevel},set:function(e){o.default.isNumber(e)&&[0,1,2,3,4].indexOf(e)>=0&&(this._logLevel=e)}}])&&r(t,n),e}();t.default=a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0));t.default={generateMetrics:function(e,t){if("object"!==r(e))return null;var n={},i=e.line||e.lineNumber,u=e.column||e.columnNumber;n.ts=o.default.getTime(),e.name&&(n.name=e.name),e.message&&(n.message=e.message),e.stack&&(n.stack=e.stack),i&&(n.line=i),u&&(n.col=u);var a="undefined"!=typeof window?window:{};return"object"===r(a.performance)&&"object"===r(a.performance.timing)&&o.default.isNumber(a.performance.timing.navigationStart)&&(n.progress_time=n.ts-a.performance.timing.navigationStart),n.ex_base="",void 0!==a.location&&void 0!==a.location.href&&(n.url=a.location.href),o.default.isString(t)&&(n.label=t),n},createImageTag:function(e,t){if("undefined"!=typeof document){var n=document.createElement("img");o.default.isFunction(t)&&(n.onload=t),n.src=e}}}}])},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return Object.prototype.toString.call(e).slice(8,-1)}function o(e,t){return null!=t&&i(t)===e}function u(e){return o("Object",e)}function a(e){return o("Array",e)}function l(e){return o("String",e)}function s(e){return Math.abs(e)===1/0}function f(e){return o("Number",e)&&!v(e)&&!s(e)}function c(e){return o("Boolean",e)}function d(e){return o("Map",e)}function p(e){return null===e}function g(e){return void 0===e}function v(e){return!("object"!==r(e)||!o("Number",e)||!isNaN(e))||o("Number",e)&&e!=e}function y(e){return""+e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return f(e=Number(e))?e:t}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=h(e,t))===t?e:parseInt(e)}function m(e){var t=e.split("#")[0].split("?");return 1===t.length?null:t.slice(1).join("?")}Object.defineProperty(t,"__esModule",{value:!0}),t.default={getType:i,is:o,isObject:u,isArray:a,isString:l,isNumber:f,isBoolean:c,isMap:d,isPrimitive:function(e){return f(e)||l(e)||c(e)},isFunction:function(e){return o("Function",e)},isNull:p,isNaN:v,isUndefined:g,findKey:function(e,t){return o("Object",e)&&Object.prototype.hasOwnProperty.call(e,t)},isUUID:function(e){return null!==e.match(/^[\da-fA-F]{8}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{12}$/)},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},merge:function(){for(var e=arguments,t=arguments.length,n={},r=function(t){var r=t<0||e.length<=t?void 0:e[t];Object.keys(r).forEach((function(e){n[e]=r[e]}))},i=0;i<t;i++)r(i);return n},getTime:function(){return(new Date).getTime()},normalizeToString:y,normalizeToNumber:h,normalizeToInt:b,normalizeToUnsignedInt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=b(e,t))===t||e>=0?e:t},isEmpty:function(e){return!!(p(e)||g(e)||v(e))||(l(e)?""===e:f(e)||s(e)?0===e:u(e)?0===Object.keys(e).length:a(e)?0===e.length:!!d(e)&&0===e.size)},snakeToLCC:function(e){return(e=y(e).replace(/_+([a-z])/g,(function(e,t){return t.toUpperCase()}))).charAt(0).toLowerCase()+e.slice(1)},urlQueryBuild:function(e){return Object.keys(e).map((function(t){return[t,e[t]].map(y).map(encodeURIComponent).join("=")})).join("&")},urlQueryString:m,urlQueryParse:function(e){return m("?".concat(e)).split("&").reduce((function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=n[1]),e}),{})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Browser=t.Util=t.CLog=void 0;var i=r(n(2));t.CLog=i.default;var o=r(n(0));t.Util=o.default;var u=r(n(3));t.Browser=u.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0));function o(){return["Object","Console"].indexOf(i.default.getType(console))>=0?console:{}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"debug",value:function(){var t=o();if(this.logLevel>=e.DEBUG){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];i.default.isFunction(t.debug)?this.printLog(t.debug,r):i.default.isFunction(t.log)&&(r.unshift("[DEBUG]"),this.printLog(t.log,r))}}},{key:"info",value:function(){var t=o();if(this.logLevel>=e.INFO){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];i.default.isFunction(t.info)?this.printLog(t.info,r):i.default.isFunction(t.log)&&(r.unshift("[INFO]"),this.printLog(t.log,r))}}},{key:"warning",value:function(){var t=o();if(this.logLevel>=e.WARNING){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];i.default.isFunction(t.warn)?this.printLog(t.warn,r):i.default.isFunction(t.log)&&(r.unshift("[WARN]"),this.printLog(t.log,r))}}},{key:"error",value:function(){var t=o();if(this.logLevel>=e.CRITICAL){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];i.default.isFunction(t.error)?this.printLog(t.error,r):i.default.isFunction(t.log)&&(r.unshift("[ERROR]"),this.printLog(t.log,r))}}},{key:"printLog",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],u=new Date;o.unshift("[".concat(u.toLocaleTimeString(),".").concat(u.getUTCMilliseconds(),"]")),i.default.isEmpty(this._prefix)||o.unshift(this._prefix),r.apply(console,o)}},{key:"NONE",get:function(){return 0}},{key:"CRITICAL",get:function(){return 1}},{key:"WARNING",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"prefix",set:function(e){this._prefix=e}},{key:"defaultLogLevel",get:function(){return this.CRITICAL}},{key:"logLevel",get:function(){return i.default.isNumber(this._logLevel)?this._logLevel:this.defaultLogLevel},set:function(e){i.default.isNumber(e)&&[0,1,2,3,4].indexOf(e)>=0&&(this._logLevel=e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0));t.default={generateMetrics:function(e,t){if("object"!==r(e))return null;var n={},i=e.line||e.lineNumber,u=e.column||e.columnNumber;n.ts=o.default.getTime(),e.name&&(n.name=e.name),e.message&&(n.message=e.message),e.stack&&(n.stack=e.stack),i&&(n.line=i),u&&(n.col=u);var a="undefined"!=typeof window?window:{};return"object"===r(a.performance)&&"object"===r(a.performance.timing)&&o.default.isNumber(a.performance.timing.navigationStart)&&(n.progress_time=n.ts-a.performance.timing.navigationStart),n.ex_base="",void 0!==a.location&&void 0!==a.location.href&&(n.url=a.location.href),o.default.isString(t)&&(n.label=t),n},createImageTag:function(e,t){if("undefined"!=typeof document){var n=document.createElement("img");o.default.isFunction(t)&&(n.onload=t),n.src=e}}}}])},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(n(7)),u={},a={get:function(e){return void 0!==u[e]?u[e]:null},set:function(e,t){u[e]=t,"apiHost"===e&&"https://"===u.apiScheme&&o.default("".concat(u.apiScheme).concat(u.apiHost))}};a.set("apiScheme","https://"),a.set("apiHost","dsb.yahoo.co.jp"),a.set("apiPath","/api/v1/stream"),a.set("sendBeaconEnabled",!0),a.set("ajaxTimeout",5e3),a.set("maxRequestCharCount",65497),a.set("maxRequestMessageCount",50),a.set("shortTimerInterval",1e3),a.set("longTimerInterval",5e3),a.set("errorLoggingEnabled",!1),i.CLog.debug("[config]",a),t.default=a},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(8)),o=r(n(3)),u=r(n(1)),a={targetName:"YASCoreLogger-web",targetVersion:"3.1.0",coreName:"YASCoreLogger-web",coreVersion:"3.1.0",pageSession:o.default()},l=new i.default(a);t.sendDebug=function(e){!0===u.default.get("errorLoggingEnabled")&&l.debug({label:e})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9));t.default=function(){return"undefined"==typeof window?"":(window.YAS=window.YAS||{},window.YAS.psid=window.YAS.psid||i.default(),window.YAS.psid)}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=i(n(5)),a=i(n(11)),l=i(n(1)),s=i(n(12)),f=n(2),c=i(n(3));f.sendDebug("core#start");var d=new u.default,p=new a.default(d);o.CLog.prefix="[CoreLogger]";var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"setConsoleLogLevel",value:function(e){o.CLog.logLevel=e}},{key:"getConsoleLogLevel",value:function(){return o.CLog.logLevel}},{key:"setBeaconServer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o.Util.isString(e)?(l.default.set("apiHost",e),o.CLog.info("送信先ホスト変更成功",e)):o.Util.isNull(e)||o.CLog.warning("送信先ホスト変更失敗",e),o.Util.isString(t)?(l.default.set("apiPath",t),o.CLog.info("送信先パス変更成功",t)):o.Util.isNull(t)||o.CLog.warning("送信先パス変更失敗",t)}},{key:"setAccessToken",value:function(e){o.Util.isString(e)&&(l.default.set("apiAccessToken",e),o.CLog.info("[アクセストークン変更]",e))}},{key:"enableSecureTransport",value:function(e){!0===e?l.default.set("apiScheme","https://"):!1===e&&(l.default.set("apiScheme","http://"),o.CLog.warning("通信にHTTPを利用します"))}},{key:"enableSendBeacon",value:function(e){!0===e?(l.default.set("sendBeaconEnabled",!0),o.CLog.info("通信にsendBeaconまたはXHRを利用します")):!1===e?(l.default.set("sendBeaconEnabled",!1),o.CLog.info("通信にsendBeaconを利用せずXHRのみ利用します")):o.CLog.warning("boolean型の値を指定してください")}},{key:"enableErrorLogging",value:function(e){!0===e?(l.default.set("errorLoggingEnabled",!0),o.CLog.info("コアロガー内のエラーメトリクスロギングを有効化します")):!1===e?(l.default.set("errorLoggingEnabled",!1),o.CLog.info("コアロガー内のエラーメトリクスロギングを無効化します")):o.CLog.warning("boolean型の値を指定してください")}},{key:"send",value:function(e){f.sendDebug("core.send#start"),o.Util.isObject(e)?(d.push(e.token,e.project,e.dataset,e.data),o.Util.isUndefined(e.flush)||o.Util.isBoolean(e.flush)||o.CLog.warning("flushオプションが期待するのはboolean型です"),!0===e.flush?this.flush(e.callback):p.setTimer(),f.sendDebug("core.send#end")):o.CLog.error("引数の型が不正")}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;f.sendDebug("core.flush#start"),o.Util.isFunction(e)?d.send(e):(o.Util.isNull(e)||o.CLog.warning("callbackには関数を指定してください"),d.send()),f.sendDebug("core.flush#end")}},{key:"getSdkName",value:function(){return s.default.name}},{key:"getSdkVersion",value:function(){return s.default.version}},{key:"getPageSession",value:function(){return c.default()}}])&&r(t,n),e}();f.sendDebug("core#end"),t.default=g},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=i(n(6)),a=i(n(10)),l=i(n(1)),s=n(2),f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset(),this.online=!0}var t,n;return t=e,(n=[{key:"push",value:function(e,t,n,r){var i=a.default.recordsBuild(e,t,n,r),u=i.map((function(e){return JSON.stringify(e).length})),s=u.reduce((function(e,t){return e+t}),0),f=i.length,c=Math.max(0,l.default.get("maxRequestCharCount")),d=Math.max(0,l.default.get("maxRequestMessageCount"));if(!(f<1))if(s>c)o.CLog.error("データのサイズが大きすぎます。データを破棄します  ".concat(s,"/").concat(c),i);else if(f>d&&o.CLog.warning("規定値を超えた件数のログが送信されます ".concat(f,"/").concat(d),i),this.charCount+s<=c&&this.queue.length+f<=d)this.queue=this.queue.concat(i),this.charCount+=s,this.charCountArray=this.charCountArray.concat(u);else if(this.online)this.send(),this.queue=this.queue.concat(i),this.charCount+=s,this.charCountArray=this.charCountArray.concat(u);else for(this.queue=this.queue.concat(i),this.charCount+=s,this.charCountArray=this.charCountArray.concat(u);this.charCount>c||this.queue.length>d;)o.CLog.warning("データ容量超過のため削除",this.queue[0]),this.queue.shift(),this.charCount-=this.charCountArray[0],this.charCountArray.shift()}},{key:"send",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(s.sendDebug("Buffer.send#start"),this.queue.length>0&&this.online){var t=a.default.requestBodyBuild(this.queue);u.default.send(t,e),this.reset()}s.sendDebug("Buffer.send#end")}},{key:"reset",value:function(){this.queue=[],this.charCount=0,this.charCountArray=[]}}])&&r(t.prototype,n),e}();t.default=f},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),a=o(n(1)),l=n(2),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l.sendDebug("HttpClient.send#start");var n="undefined"!=typeof window?window:{};a.default.get("sendBeaconEnabled")&&u.Util.isNull(t)&&"object"===r(n.navigator)&&u.Util.isFunction(n.navigator.sendBeacon)?this.sendBeacon(e):this.sendAjax(e,t),l.sendDebug("HttpClient.send#end")}},{key:"sendAjax",value:function(e,t){l.sendDebug("HttpClient.sendAjax#start");var n=function(){var e=null;if("undefined"==typeof XMLHttpRequest)return null;try{if(!("withCredentials"in(e=new XMLHttpRequest)))return null;if("undefined"!=typeof XDomainRequest)return null}catch(e){return u.CLog.error("XMLHttpRequestオブジェクトの作成に失敗",e),null}return e}(),r=this.buildUrl(),i=function(){u.Util.isFunction(t)&&t()};if(!u.Util.isNull(n)){n.open("POST",r),n.withCredentials=!0,n.setRequestHeader("Content-Type","application/json;charset=UTF-8");var o=a.default.get("apiAccessToken");null!==o&&n.setRequestHeader("Authorization","Bearer ".concat(o)),!("timeout"in n)&&a.default.get("ajaxTimeout")?setTimeout((function(){n.abort(),i()}),a.default.get("ajaxTimeout")):n.timeout=a.default.get("ajaxTimeout"),n.onload=n.ontimeout=n.onerror=n.onabort=i,n.send(e),u.CLog.info("[送信]",r,e),l.sendDebug("HttpClient.sendAjax#end")}}},{key:"sendBeacon",value:function(e){l.sendDebug("HttpClient.sendBeacon#start");var t=this.buildUrl(!0);navigator.sendBeacon(t,e),u.CLog.info("[送信]",t,e),l.sendDebug("HttpClient.sendBeacon#end")}},{key:"buildUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="";t+=a.default.get("apiScheme"),t+=a.default.get("apiHost"),t+=a.default.get("apiPath");var n=a.default.get("apiAccessToken");return null!==n&&e&&(t+="?access_token=".concat(n)),t}}])&&i(t,n),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("undefined"==typeof window||void 0===window.document)return!1;var t=document.createElement("link");return t.setAttribute("rel","preconnect"),t.setAttribute("href",e),document.head.appendChild(t),!0}},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=n(0)},function(e,t,n){"use strict";n.r(t);var r,i=n(0),o=function(){function e(e){this.settings=e}return e.prototype.dispatch=function(e){var t=this.settings,n={tk:t.userId,p:t.project,d:t.dataset},r=i.Util.merge(n,e),o=this.buildUrl(t.host,r);i.Browser.createImageTag(o,null)},e.prototype.buildUrl=function(e,t){return"https://"+e+"/api/v1/clear.gif?"+i.Util.urlQueryBuild(t)},e}();!function(e){e.DEBUG="debug",e.EXCEPTION="exception"}(r||(r={}));var u=function(){function e(e){var t,n,r,i,o;this.pageSession=null!==(t=null==e?void 0:e.pageSession)&&void 0!==t?t:"",this.sdkName=null!==(n=null==e?void 0:e.coreName)&&void 0!==n?n:"",this.sdkVersion=null!==(r=null==e?void 0:e.coreVersion)&&void 0!==r?r:"",this.extensionName=null!==(i=null==e?void 0:e.targetName)&&void 0!==i?i:"",this.extensionVersion=null!==(o=null==e?void 0:e.targetVersion)&&void 0!==o?o:""}return e.prototype.build=function(e){var t,n,r,i,o,u,a,l,s,f,c;return{log_type:null!==(t=null==e?void 0:e.type)&&void 0!==t?t:"",label:null!==(n=null==e?void 0:e.label)&&void 0!==n?n:"",ts:this.time(),name:null!==(i=null===(r=null==e?void 0:e.error)||void 0===r?void 0:r.name)&&void 0!==i?i:"",message:null!==(u=null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message)&&void 0!==u?u:"",stack:null!==(l=null===(a=null==e?void 0:e.error)||void 0===a?void 0:a.stack)&&void 0!==l?l:"",elapsed_time:this.elapsedTime(),url:this.url(),referrer:this.referrer(),page_session:this.pageSession,sdk:this.sdkName,sdk_ver:this.sdkVersion,extension:this.extensionName,extension_ver:this.extensionVersion,custom_1:null!==(s=null==e?void 0:e.custom1)&&void 0!==s?s:"",custom_2:null!==(f=null==e?void 0:e.custom2)&&void 0!==f?f:"",custom_3:null!==(c=null==e?void 0:e.custom3)&&void 0!==c?c:""}},e.prototype.time=function(){return i.Util.getTime()},e.prototype.elapsedTime=function(){return"undefined"==typeof performance?0:Math.floor(performance.now())},e.prototype.url=function(){return"undefined"==typeof document?"":document.URL},e.prototype.referrer=function(){return"undefined"==typeof document?"":document.referrer},e}(),a=function(){function e(e){var t,n={userId:"9225bd01-1ff0-4e57-9c92-6e831c45253a",project:"ds_logger",dataset:"ual_web_error",host:"dsb.yahoo.co.jp"},r={};n.host=null!==(t=null==e?void 0:e.host)&&void 0!==t?t:n.host,r.targetName=null==e?void 0:e.targetName,r.targetVersion=null==e?void 0:e.targetVersion,r.coreName=null==e?void 0:e.coreName,r.coreVersion=null==e?void 0:e.coreVersion,r.pageSession=null==e?void 0:e.pageSession,this.dispatcher=new o(n),this.builder=new u(r)}return e.prototype.debug=function(e){this.log(r.DEBUG,e)},e.prototype.exception=function(e,t){this.log(r.EXCEPTION,t,e)},e.prototype.log=function(e,t,n){var r={};r.type=e,r.label=null==t?void 0:t.label,r.custom1=null==t?void 0:t.custom1,r.custom2=null==t?void 0:t.custom2,r.custom3=null==t?void 0:t.custom3,r.error=n;var i=this.builder.build(r);this.dispatcher.dispatch(i)},e}();t.default=a}]).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"recordBuild",value:function(e,t,n,r){if(!i.Util.isString(e)||!i.Util.isUUID(e))return i.CLog.error("tokenが不正な値:",e),null;if(!i.Util.isString(t)||t.length<1)return i.CLog.error("projectが不正な値:",t),null;if(!i.Util.isString(n)||n.length<1)return i.CLog.error("datasetが不正な値:",n),null;if(!i.Util.isObject(r))return i.CLog.error("dataが不正な値:",r),null;var o=i.Util.deepCopy(r);Object.keys(o).forEach((function(e){0===e.indexOf("cex_")&&(i.CLog.warning("パラメータ ".concat(e,": cex_で始まるキーは予約済みキーのため使用できません.")),delete o[e])})),o.cex_cqt=i.Util.getTime();var u={tk:e,p:t,d:n,data:o};return i.CLog.info("[レコード生成]",u),u}},{key:"recordsBuild",value:function(e,t,n,r){var o=this,u=[],a=function(r){var a=o.recordBuild(e,t,n,r);i.Util.isNull(a)||u.push(a)};return i.Util.isObject(r)?a(r):i.Util.isArray(r)&&r.forEach(a),u}},{key:"requestBodyBuild",value:function(e){var t={},n=i.Util.deepCopy(e);return t.cex_cst=i.Util.getTime(),JSON.stringify({r:n,bp:t})}}])&&r(t,n),e}();t.default=o},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=u(n(1)),s=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),this.buffer=t,this.shortInterval=o||l.default.get("shortTimerInterval"),this.longInterval=r||l.default.get("longTimerInterval"),this.shortTimer=null,this.longTimer=null,this.leaveCallback=function(e){a.CLog.debug("fire inactive event. type = ".concat(e.type)),n.buffer.queue.length>0&&(n.buffer.send(),n.clearAllTimer())};var u="undefined"!=typeof window?window:{};a.Util.is("Window",u)&&a.Util.isFunction(u.addEventListener)?e.INACTIVE_EVENTS.forEach((function(e){u.addEventListener(e,n.leaveCallback,!1)})):a.CLog.warning("not hook a leave event."),this.createNetWorkStateHandler(),this.setInitialNetWork(),this.setNetWorkWatcher()}var t,n,u;return t=e,u=[{key:"INACTIVE_EVENTS",get:function(){return["blur","pagehide","visibilitychange-hidden","beforeunload","unload"]}}],(n=[{key:"createNetWorkStateHandler",value:function(){var e=this;this.onlineHandler=function(){e.buffer.online=!0,e.buffer.queue.length>0&&e.buffer.send()},this.offlineHandler=function(){e.buffer.online=!1}}},{key:"setInitialNetWork",value:function(){var e="undefined"!=typeof window?window:{};a.Util.is("Window",e)&&"object"===r(e.navigator)&&a.Util.isBoolean(e.navigator.onLine)?this.buffer.online=e.navigator.onLine:this.buffer.online=!0}},{key:"setNetWorkWatcher",value:function(){var e="undefined"!=typeof window?window:{};a.Util.isFunction(e.addEventListener)&&(e.addEventListener("online",this.onlineHandler,!1),e.addEventListener("offline",this.offlineHandler,!1))}},{key:"setTimer",value:function(){var e=this;a.Util.isNull(this.shortTimer)||(clearTimeout(this.shortTimer),this.shortTimer=null),this.shortTimer=setTimeout((function(){e.buffer.send(),e.clearAllTimer(),a.CLog.debug("Called: short timer fire.")}),this.shortInterval),a.Util.isNull(this.longTimer)&&(this.longTimer=setTimeout((function(){e.buffer.send(),e.clearAllTimer(),a.CLog.debug("Called: long timer fire.")}),this.longInterval))}},{key:"clearAllTimer",value:function(){clearTimeout(this.shortTimer),clearTimeout(this.longTimer),this.shortTimer=null,this.longTimer=null}}])&&o(t.prototype,n),u&&o(t,u),e}();t.default=s},function(e){e.exports=JSON.parse('{"name":"YASCoreLogger-web","version":"3.2.11"}')}]).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=l(n(14)),u=l(n(1)),a=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){return i.Util.isUndefined(e)||i.Util.isNull(e)?"":i.Util.isPrimitive(e)?i.Util.normalizeToString(e):""}function f(e){if(i.Util.isUndefined(e)||i.Util.isNull(e))return a.default;if(i.Util.isPrimitive(e)){var t=i.Util.normalizeToString(e);return""!==t?t:a.default}return""}function c(e){return""!==e}function d(e,t,n){if(!i.Util.isUndefined(n[t]))return n;var r=function(e,t){return!i.Util.isUndefined(e[t])&&e[t]instanceof o.default?e[t].getParameters():null}(e,t);return i.Util.isNull(r)||(n[t]=r),n}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trackers={},this.tokens={},this.groups={default:[]},this.baseParameters={},this.pvid=u.default.getPageSession(),i.CLog.debug("[YAConfigurator#constructor] pvid = "+this.pvid)}return r(e,null,[{key:"getInstance",value:function(){return g}}]),r(e,[{key:"registerTracker",value:function(e,t,n){var r=s(e);if(""===r)return i.CLog.error("[YAConfigurator#registerTracker] 不正なロギングID",e),null;if(i.Util.isUndefined(t))return i.CLog.error("[YAConfigurator#registerTracker] TOKENが見つからない"),null;var u=f(n);if(""===u)return i.CLog.error("[YAConfigurator#registerTracker] 不正なグループ名"),null;if(!i.Util.isUndefined(this.trackers[r]))return i.CLog.debug("[YAConfigurator#registerTracker] Already created tracker, ["+r+"]"),this.trackers[r];var a=new o.default(r,u);return this.trackers[r]=a,this.tokens[r]=t,i.Util.isUndefined(this.groups[u])?(i.CLog.debug("[YAConfigurator#registerTracker] new group, ["+u+"]"),this.groups[u]=[r]):this.groups[u].push(r),i.CLog.info("[YAConfigurator#registerTracker] トラッカーを作成しました\nLoggingID="+r+", Group="+u+", Token="+t),a}},{key:"updateTracker",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default,r=s(n);if(""===r)return i.CLog.error("[YAConfigurator#updateTracker] 不正なロギングID",n),!1;if(!i.Util.isObject(e))return i.CLog.error("[YAConfigurator#updateTracker] 期待しないデータ型",e),!1;var o=[];if(i.Util.isUndefined(this.trackers[r])){if(!i.Util.isArray(this.groups[r]))return i.CLog.error("[YAConfigurator#updateTracker] トラッカー未作成のロギングIDまたはグループ",n),!1;this.groups[r].forEach((function(e){o.push(t.trackers[e])}))}else o.push(this.trackers[r]);return o.forEach((function(t){Object.keys(e).forEach((function(n){t.setParameter(n,e[n])}))})),i.CLog.info("[YAConfigurator#updateTracker] トラッカーに値を設定完了",o),!0}},{key:"setBaseParameters",value:function(e){return i.Util.isObject(e)?(this.baseParameters=i.Util.merge(this.baseParameters,e),i.CLog.info("[YAConfigurator#baseParameters] ベースパラメータ設定完了",this.baseParameters),!0):(i.CLog.error("[YAConfigurator#setBaseParameters] オブジェクト形式ではありません",e),!1)}},{key:"getBaseParameters",value:function(){return i.Util.merge(this.baseParameters,{pvid:this.pvid})}},{key:"getTrackerParameters",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r={};if(!i.Util.isString(t)&&i.Util.isPrimitive(t)||!i.Util.isEmpty(t))if(i.Util.isArray(t))n=i.Util.deepCopy(t);else{if(!i.Util.isPrimitive(t))return i.CLog.error("[YAConfigurator#getTrackerParameters] 不正なターゲット指定"),r;n=[t]}else n=[a.default];var o=n.map(s).filter(c);o.forEach((function(t){r=d(e.trackers,t,r)}));var u=n.map(f).filter(c).filter((function(t){return i.Util.isArray(e.groups[t])}));return u.forEach((function(t){e.groups[t].map(s).filter(c).forEach((function(t){r=d(e.trackers,t,r)}))})),i.Util.deepCopy(r)}}]),e}(),g=new p;t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(17)),o=s(n(18)),u=n(0),a=s(n(5)),l=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return/^https?:\/\//.test(e)},c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"formatParameters",value:function(e){var t={};return u.Util.isObject(e)?(Object.keys(e).forEach((function(n){var r=u.Util.snakeToLCC(n);t[r]=e[n]})),t):t}},{key:"decodeCampaignParameter",value:function(e){return decodeURIComponent(e.replace(/\+/g,"%20"))}},{key:"buildWritableCommonData",value:function(){var e="undefined"!=typeof window?window:{};o.default.document=e.document;var t={isNonInteraction:!this.defaultInteraction,dataSource:o.default.dataSource,pageTitle:o.default.pageTitle,userLanguage:o.default.userLanguage,screenColorDepth:o.default.screenColorDepth,viewportWidth:o.default.viewportWidth,viewportHeight:o.default.viewportHeight,deviceOrientation:o.default.deviceOrientation,screenWidth:o.default.screenWidth,screenHeight:o.default.screenHeight,useAnalyticsUid:(0,a.default)()!==l.default.internalHost};return Object.keys(t).forEach((function(e){u.Util.isNull(t[e])&&delete t[e]})),t}},{key:"buildNonWritableCommonData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{loggingId:e,loggerSdkName:o.default.loggerSdkName,loggerSdkVersion:o.default.loggerSdkVersion,hitType:this.hitType||null,clientHitTimestamp:u.Util.getTime()}}},{key:"buildRepairableCommonData",value:function(e){var t=e.pageUrl,n=void 0;u.Util.isUndefined(t)?n=o.default.pageUrl:u.Util.isString(t)&&!u.Util.isEmpty(t)&&f(t)?n=t:(u.CLog.warning("[BaseBuilder#run] pageUrlの値がURLとして不正です. ","http(s)://で始まる文字列を指定してください.",t),n=o.default.pageUrl,u.CLog.warning("[BaseBuilder#run] pageUrlの値を次の値に自動設定しました. ","必要に応じて適切な値を指定してください.",n));var r=e.pageReferrer,i=void 0;return u.Util.isUndefined(r)?i=o.default.pageReferrer:u.Util.isString(r)&&(u.Util.isEmpty(r)||f(r))?i=r:u.Util.isNull(r)?(u.CLog.warning("[BaseBuilder#run] pageReferrerの値がNULLになっています. 期待している値かどうか確認してください.",r),i=r):(u.CLog.warning("[BaseBuilder#run] pageReferrerの値がURLとして不正です. ","http(s)://で始まる文字列を指定してください.",r),i=o.default.pageReferrer,u.CLog.warning("[BaseBuilder#run] pageReferrerの値を次の値に自動設定しました. ","必要に応じて適切な値を指定してください.",i)),{pageUrl:n,pageReferrer:i}}},{key:"run",value:function(e,t,n,r,o){if(!u.Util.isString(e)||u.Util.isEmpty(e))return null;u.CLog.debug("[BaseBuilder#run] hit schema = "+this.hitType+", rule =",this.rule);var a=this.buildWritableCommonData(),l=this.formatParameters(this.campaign),s=this.formatParameters(t),f=this.formatParameters(n),c=this.formatParameters(r),d=this.formatParameters(o),p=this.buildNonWritableCommonData(e);p.hitSequence=c.hitSequence,p.pvid=f.pvid,u.CLog.debug("[BaseBuilder#run] common =",a,"campaign = ",l,"builder =",s,"base =",f,"tracker =",c,"hit =",d,"non_writable =",p);var g=u.Util.merge(a,l,s,f,c,d,p),v=this.buildRepairableCommonData(g);return u.CLog.debug("[BaseBuilder#run] repaired = ",v),i.default.run(this.rule,u.Util.merge(g,v))}},{key:"campaign",get:function(){var e=this,t="undefined"!=typeof window?window:{};o.default.document=t.document;var n=o.default.pageQueryParameter,r={};return null===n||["cpt_s","cpt_n","cpt_m","cpt_k","cpt_c"].forEach((function(t){u.Util.isUndefined(n[t])||(r[t]=e.decodeCampaignParameter(n[t]))})),r}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={hitType:{short:"ht",type:"string"},loggingId:{short:"lid",type:"string"},clientHitTimestamp:{short:"cht",type:"number"},loggerSdkName:{short:"lsn",type:"string"},loggerSdkVersion:{short:"lsv",type:"string"},isNonInteraction:{short:"ini",type:"boolean"},pageUrl:{short:"pu",type:"string"},pageReferrer:{short:"pr",type:"string"},pageTitle:{short:"pt",type:"string"},userLanguage:{short:"ul",type:"string"},dataSource:{short:"ds",type:"string"},screenWidth:{short:"sw",type:"number"},screenHeight:{short:"sh",type:"number"},viewportWidth:{short:"vw",type:"number"},viewportHeight:{short:"vh",type:"number"},screenColorDepth:{short:"scd",type:"number"},deviceOrientation:{short:"do",type:"string"},hitSequence:{short:"hs",type:"number"},pvid:{short:"pvid",type:"string"},dim:{short:"cud",type:"string",numbered:!0},aui:{short:"aui",type:"string"},useAnalyticsUid:{short:"uaui",type:"boolean"},mtestid:{short:"mti",type:"string"},cptS:{short:"cps",type:"string"},cptN:{short:"cpn",type:"string"},cptM:{short:"cpm",type:"string"},cptK:{short:"cpk",type:"string"},cptC:{short:"cpc",type:"string"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6),o=(r=i)&&r.__esModule?r:{default:r},u=n(0);t.default=function(){var e="undefined"!=typeof window?window:{},t=u.Util.normalizeToString(e.location.hostname);return/^(.+\.)?yahoo\.co\.jp\/?$/.test(t)?o.default.internalHost:o.default.externalHost}},function(e){e.exports={internalHost:"dsb.yahoo.co.jp",externalHost:"dsb.yahooapis.jp",errMetrics:{tk:"9225bd01-1ff0-4e57-9c92-6e831c45253a",pj:"ds_logger",ds:"ya_web_error"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="default"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=n(2),a=(r=u)&&r.__esModule?r:{default:r},l=n(0);var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"run",value:function(){var e=void 0,t=void 0;if(1===arguments.length&&o.Util.isObject(arguments.length<=0?void 0:arguments[0]))t=arguments.length<=0?void 0:arguments[0];else{if(2!==arguments.length||!o.Util.isString(arguments.length<=0?void 0:arguments[0])||!o.Util.isObject(arguments.length<=1?void 0:arguments[1]))return void l.CLog.error("[ParamCommander#run] 不正な引数の指定");e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1]}var n=a.default.getInstance();o.Util.isString(e)?"*"===e.trim()?Object.keys(n.trackers).forEach((function(e){n.updateTracker(t,e)})):n.updateTracker(t,e):n.updateTracker(t)}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=c(n(1)),u=c(n(16)),a=c(n(20)),l=c(n(22)),s=c(n(24)),f=c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}var d=f.default.getInstance(),p={pageview:u.default,timing:l.default,webPerformance:a.default,event:s.default},g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getHitBuilder",value:function(e){var t=i.Util.snakeToLCC(e);return!i.Util.isString(t)||i.Util.isUndefined(p[t])?(i.CLog.error("[HitCommander#getHitBuilder] 不正なイベント名",t),null):(i.CLog.debug("[HitCommander#getHitBuilder] "+t+" builder is finded."),p[t])}},{key:"run",value:function(){var e=this,t=void 0,n=void 0,r=void 0,u=arguments.length;if(this.isFlush=!1,i.Util.isString(arguments.length<=0?void 0:arguments[0])&&i.Util.isString(arguments.length<=1?void 0:arguments[1])&&(2===u||3===u&&i.Util.isObject(arguments.length<=2?void 0:arguments[2])))t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=i.Util.isObject(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:{};else{if(!i.Util.isString(arguments.length<=0?void 0:arguments[0])||!(1===u||2===u&&i.Util.isObject(arguments.length<=1?void 0:arguments[1])))return void i.CLog.error("[HitCommander#run] 不正な引数の指定");n=arguments.length<=0?void 0:arguments[0],r=i.Util.isObject(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:{}}var l=this.formatConfig(r);n.split(",").forEach((function(n){var u=e.getHitBuilder(n.trim());if(null!==u){if(u===a.default){var s=a.default.timing;return i.Util.isNull(s)?void i.CLog.debug("[HitCommander#run] timing object not exist."):(i.CLog.debug("[HitCommander#run] window onload is not over yet, wait a moment"),void function e(n){var s=a.default.timing;if(i.Util.isUndefined(s.loadEventEnd)||s.loadEventEnd>0)return i.CLog.debug("[HitCommander#run] window onload was over."),n.generate(u,t,r),void o.default.flush(l.eventCallback);setTimeout(e,100,n)}(e))}e.generate(u,t,r)}})),this.isFlush&&!0!==l.nonFlush&&(o.default.flush(l.eventCallback),i.CLog.info("[HitCommander#run] フラッシュ完了"))}},{key:"generate",value:function(e,t,n){var r=this,u=d.getBaseParameters(),a=d.getTrackerParameters(t);i.CLog.debug("[HitCommander#generate] Fire "+e.schemaName+", LoggingIDs are ["+Object.keys(a)+"]"),Object.keys(a).forEach((function(t){var l=e.run(t,u,a[t],n);i.Util.isNull(l)?i.CLog.error("[HitCommander#generate] ログ生成失敗\nLoggingID="+t+", EventName="+e.schemaName+", options="+n):(o.default.send({token:d.tokens[t],project:"ya",dataset:t,data:l}),r.isFlush=!0,i.CLog.info("[HitCommander#generate] ログ登録完了",l))}))}},{key:"formatConfig",value:function(e){var t=["nonFlush","eventCallback"],n={};return Object.keys(e).forEach((function(r){t.indexOf(i.Util.snakeToLCC(r))>-1&&(n[i.Util.snakeToLCC(r)]=e[r])})),n}}]),e}();t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=l(n(7)),u=l(n(9)),a=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n="undefined"!=typeof document?document:{};this.isStart=!1,this.targets=[],this.title=n.title||null,this.url=n.URL||null,this.referrer=n.referrer||null,this.options=this.optionsFormater(t)}return r(e,[{key:"addTarget",value:function(e){if("undefined"!=typeof document){var t=document.URL,n=i.Util.isString(e)?e:o.default;i.CLog.debug("[BaseObserver#addTarget] "+n+" added. spa tracking."),-1===this.targets.indexOf(n)&&(this.targets.push(n),this.options.initPageview&&(a.default.run(n,{pageReferrer:this.referrer}),u.default.run(n,"pageview,webPerformance"),this.referrer=t))}else i.CLog.warning("[BaseObserver#fire] Document object not found.")}},{key:"fire",value:function(){var e=this;if("undefined"!=typeof document){var t=document,n=t.URL,r=t.title,o=t.URL;this.options.requireUrlChange&&this.url===n?i.CLog.debug("[BaseObserver#fire] not url changed."):this.options.requireTitleChange&&this.title===r?i.CLog.debug("[BaseObserver#fire] not title changed."):this.options.requireNonEmptyTitle&&i.Util.isEmpty(r)?i.CLog.debug("[BaseObserver#fire] title is empty."):(this.targets.forEach((function(t){a.default.run(t,{pageReferrer:e.referrer}),u.default.run(t,"pageview"),i.CLog.info("[BaseObserver#fire] "+t+" へ自動PVを送信しました.")})),this.title=r,this.url=n,this.referrer=o,i.Util.isFunction(this.options.pvCallback)&&this.options.pvCallback())}else i.CLog.warning("[BaseObserver#fire] Document object not found.")}},{key:"optionsFormater",value:function(e){var t=i.Util.isObject(e)?e:{},n={};return Object.keys(t).forEach((function(e){var r=i.Util.snakeToLCC(e);n[r]=t[e]})),n.initPageview=!i.Util.isBoolean(n.initPageview)||n.initPageview,n.requireUrlChange=!!i.Util.isBoolean(n.requireUrlChange)&&n.requireUrlChange,n.requireTitleChange=!!i.Util.isBoolean(n.requireTitleChange)&&n.requireTitleChange,n.requireNonEmptyTitle=!i.Util.isBoolean(n.requireNonEmptyTitle)||n.requireNonEmptyTitle,n.minElapsedTime=i.Util.isNumber(n.minElapsedTime)?n.minElapsedTime:0,n.interval=i.Util.isNumber(n.interval)?n.interval:200,n}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),i=n(0),o=a(n(1)),u=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default,i.CLog.prefix="[YA]";var l="undefined"!=typeof window?window:{};if(i.Util.is("Window",l)&&i.Util.isString(l.location.href)){var s=location.href.match(/yadebug=(\d)/);i.Util.isNull(s)||(i.CLog.logLevel=i.Util.normalizeToNumber(s[1]))}o.default.setBeaconServer((0,u.default)()),i.Util.isArray(l.yacmds)&&l.yacmds.forEach((function(e){e=Array.prototype.slice.call(e),i.CLog.debug("ya() called from command queue.",e),r.default.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0!==t.length){var i=t[0],o=t.slice(1);if(r.Util.findKey(y,i)&&r.Util.isFunction(y[i].run))try{var u;(u=y[i]).run.apply(u,v(o))}catch(e){var a=r.Util.merge(r.Browser.generateMetrics(e,i),{tk:d.default.errMetrics.tk,p:d.default.errMetrics.pj,d:d.default.errMetrics.ds}),l=r.Util.urlQueryBuild(a);r.Browser.createImageTag("https://"+(0,p.default)()+"/api/v1/clear.gif?"+l)}else r.CLog.warning("[ya] 指定されたコマンドが見つかりません",i)}else r.CLog.warning("[ya] コマンドが指定されてません")};var r=n(0),i=g(n(13)),o=g(n(8)),u=g(n(9)),a=g(n(26)),l=g(n(27)),s=g(n(30)),f=g(n(31)),c=g(n(32)),d=g(n(6)),p=g(n(5));function g(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var y={init:i.default,param:o.default,hit:u.default,debug:c.default,spa:l.default,config:s.default,global:a.default,"core-logger":f.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=l(n(2)),u=l(n(1)),a=l(n(15));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"run",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="undefined"!=typeof window?window:{},l=o.default.getInstance();if(i.Util.isPrimitive(e)){n=i.Util.isObject(n)?n:{},i.Util.findKey(n,"groups")?(i.CLog.debug("[ConfigCommander#run] found options.groups",n.groups),l.registerTracker(e,t,n.groups)):(i.CLog.debug("[ConfigCommander#run] not found options.groups"),l.registerTracker(e,t));var s=n.savekey||a.default,f=r.localStorage.getItem(s);i.Util.findKey(n,"savekey")&&i.CLog.debug("[ConfigCommander#run] set savekey",n.savekey),i.Util.isNull(f)&&(f=u.default.getPageSession(),r.localStorage.setItem(s,f)),l.updateTracker({aui:f},e)}else i.CLog.error("[ConfigCommander#run] ロギングIDは文字列を期待します",e)}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=i.Util.isString(t)?t:"",this.group=i.Util.isString(n)?n:"",this.parameters={},this.hitSequence=0}return r(e,[{key:"setParameter",value:function(e,t){var n,r=(n=e,i.Util.isPrimitive(n)?i.Util.normalizeToString(n):"");""!==r&&(this.parameters[r]=function(e){return i.Util.isUndefined(e)?"":e}(t))}},{key:"getParameters",value:function(){var e={hitSequence:++this.hitSequence};return i.Util.merge(this.parameters,e)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="_aui"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=a(n(3)),u=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=i.Util.deepCopy(u.default),c=function(e){function t(){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"run",value:function(e,n,r,i){return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"run",this).call(this,e,{},n,r,i)}},{key:"hitType",get:function(){return"pageview"}},{key:"rule",get:function(){return f}},{key:"defaultInteraction",get:function(){return!0}}]),t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);var o=new RegExp("^(.+?)([0-9]+)$");var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"run",value:function(e,t){if(!i.Util.isObject(e))return i.CLog.error("[YAValidator#run] 不正なルールセット",e),null;if(!i.Util.isObject(t))return i.CLog.error("[YAValidator#run] 不正な形式のデータ",t),null;var n=Object.keys(e).filter((function(t){return!e[t].numbered})),r=Object.keys(e).filter((function(t){return!!e[t].numbered})),u={};return Object.keys(t).filter((function(t){if(-1!==n.indexOf(t))return!0;var u=o.exec(t);if(null!==u&&-1!==r.indexOf(u[1])){var a=e[u[1]],l=i.Util.normalizeToNumber(u[2]);return!(i.Util.findKey(a,"min")&&l<a.min)&&(!(i.Util.findKey(a,"max")&&l>a.max)&&(e[t]={short:""+a.short+l,type:a.type},!0))}return!1})).forEach((function(n){var r=e[n],o=r.short,a=r.type,l=function(e,t){return i.Util.isUndefined(t)||i.Util.isNull(t)?null:"string"===e?i.Util.normalizeToString(t):"number"===e?i.Util.normalizeToNumber(t,null):Boolean(t)}(a,t[n]);null!==l?u[o]=l:i.CLog.warning("[YAValidator#run] "+n+"に"+a+"型以外の値("+t[n]+")が指定されています")})),u}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(19);function u(e){return Array.isArray(e)?e:Array.from(e)}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t.slice(1),u=r,a=!0;return i.Util.isArray(o)&&o.length>0?o.forEach((function(e){u&&!i.Util.isUndefined(u[e])?u=u[e]:a=!1})):a=!1,a?u:null}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getVal",value:function(){return a.apply(void 0,arguments)}},{key:"document",set:function(e){this._document=e}},{key:"pageUrl",get:function(){return a(this._document,"location","href")}},{key:"pageHost",get:function(){return a(this._document,"location","hostname")}},{key:"pageQueryParameter",get:function(){if(null===this.pageUrl)return null;var e=u(this.pageUrl.split("#")[0].split("?")).slice(1);return 1!==e.length?null:e[0].split("&").reduce((function(e,t){var n=u(t.split("=")),r=n[0],i=n.slice(1);return 1===i.length&&(e[r]=i[0]),e}),{})}},{key:"pageReferrer",get:function(){var e=a(this._document,"referrer");return i.Util.isString(e)&&!i.Util.isEmpty(e)?e:null}},{key:"pageTitle",get:function(){return a(this._document,"title")}},{key:"userLanguage",get:function(){return a(this._document,"defaultView","navigator","language")||a(this._document,"defaultView","navigator","browserLanguage")}},{key:"dataSource",get:function(){return"web"}},{key:"loggerSdkName",get:function(){return"YASYahooAnalyticsLogger-web"}},{key:"loggerSdkVersion",get:function(){return i.Util.isString(o.version)?o.version:""}},{key:"screenWidth",get:function(){return a(this._document,"defaultView","screen","width")}},{key:"screenHeight",get:function(){return a(this._document,"defaultView","screen","height")}},{key:"viewportWidth",get:function(){var e=a(this._document,"documentElement","clientWidth"),t=a(this._document,"body","clientWidth"),n=a(this._document,"compatMode");return!e||"CSS1Compat"!==n&&t?t||null:e}},{key:"viewportHeight",get:function(){var e=a(this._document,"documentElement","clientHeight"),t=a(this._document,"body","clientHeight"),n=a(this._document,"compatMode");return!e||"CSS1Compat"!==n&&t?t||null:e}},{key:"screenColorDepth",get:function(){return a(this._document,"defaultView","screen","colorDepth")}},{key:"deviceOrientation",get:function(){var e=a(this._document,"defaultView","screen","orientation","type")||a(this._document,"defaultView","screen","mozOrientation","type")||a(this._document,"defaultView","screen","msOrientation","type"),t=a(this._document,"defaultView","orientation");if(i.Util.isString(e)){var n=e.match(/^(landscape|portrait)-(primary|secondary)$/);if(i.Util.isArray(n))return n[1]}else if(i.Util.isNumber(t))return 90===Math.abs(t)?"landscape":"portrait";return null}}]),e}();t.default=l},function(e){e.exports={version:"1.4.4"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0},u=n(0),a=f(n(3)),l=f(n(4)),s=f(n(21));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=u.Util.merge(l.default,s.default),g=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"buildNonWritableCommonData",value:function(e){return u.Util.merge(o(t.__proto__||Object.getPrototypeOf(t),"buildNonWritableCommonData",this).call(this,e),{isNonInteraction:!this.defaultInteraction})}},{key:"run",value:function(e,n,r,i){var a=this.timing;return u.Util.isNull(a)?null:o(t.__proto__||Object.getPrototypeOf(t),"run",this).call(this,e,a,n,r,i)}},{key:"hitType",get:function(){return"timing"}},{key:"rule",get:function(){return p}},{key:"defaultInteraction",get:function(){return!1}},{key:"timing",get:function(){var e="undefined"!=typeof window?window:{};if("object"!==(void 0===e?"undefined":r(e))||u.Util.isNull(e))return null;var t=e.performance||e.webkitPerformance,n={};return u.Util.isEmpty(t)||u.Util.isEmpty(t.timing)?null:(Object.keys(this.rule).forEach((function(e){u.Util.isUndefined(t.timing[e])||(n[e]=t.timing[e])})),n)}}]),t}(a.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={navigationStart:{short:"ns",type:"number"},unloadEventStart:{short:"ues",type:"number"},unloadEventEnd:{short:"uee",type:"number"},redirectStart:{short:"rds",type:"number"},redirectEnd:{short:"rde",type:"number"},fetchStart:{short:"fs",type:"number"},domainLookupStart:{short:"dls",type:"number"},domainLookupEnd:{short:"dle",type:"number"},connectStart:{short:"cs",type:"number"},connectEnd:{short:"ce",type:"number"},secureConnectionStart:{short:"scs",type:"number"},requestStart:{short:"rqs",type:"number"},responseStart:{short:"rs",type:"number"},responseEnd:{short:"re",type:"number"},domLoading:{short:"dl",type:"number"},domInteractive:{short:"di",type:"number"},domContentLoadedEventStart:{short:"dcles",type:"number"},domContentLoadedEventEnd:{short:"dclee",type:"number"},domComplete:{short:"dc",type:"number"},loadEventStart:{short:"les",type:"number"},loadEventEnd:{short:"lee",type:"number"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=l(n(3)),u=l(n(4)),a=l(n(23));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=i.Util.merge(u.default,a.default),d=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"run",value:function(e,n,r,i){return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"run",this).call(this,e,{},n,r,i)}},{key:"hitType",get:function(){return"timing"}},{key:"rule",get:function(){return c}},{key:"defaultInteraction",get:function(){return!1}}]),t}(o.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:{short:"tn",type:"string"},action:{short:"ta",type:"string"},category:{short:"tc",type:"string"},value:{short:"tv",type:"number"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=l(n(3)),u=l(n(4)),a=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=i.Util.merge(u.default,a.default),d=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"run",value:function(e,n,r,i){return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"run",this).call(this,e,{},n,r,i)}},{key:"hitType",get:function(){return"event"}},{key:"rule",get:function(){return c}},{key:"defaultInteraction",get:function(){return!0}}]),t}(o.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:{short:"en",type:"string"},action:{short:"ea",type:"string"},category:{short:"ec",type:"string"},value:{short:"ev",type:"number"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=n(2),a=(r=u)&&r.__esModule?r:{default:r},l=n(0);var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"run",value:function(e){o.Util.isObject(e)?a.default.getInstance().setBaseParameters(e):l.CLog.error("[GlobalCommander#run] 不正な引数の指定")}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=a(n(28)),u=a(n(29));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"run",value:function(){var e=void 0,t=void 0,n=void 0;if(2===arguments.length&&i.Util.isString(arguments.length<=0?void 0:arguments[0]))e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];else{if(1!==arguments.length)return void i.CLog.error("[SpaCommander#run] 不正な引数の指定");t=arguments.length<=0?void 0:arguments[0]}if(i.Util.isObject(t)&&i.Util.isString(t.method)){if("titleObserver"===t.method)n=new o.default(t);else{if("polling"!==t.method)return void i.CLog.error("[SpaCommander#run] 予期しないSPAメソッドの指定",t.method);n=new u.default(t)}n.start(e),i.Util.isArray(this.observers)||(this.observers=[]),this.observers.push(n),i.CLog.info("[SpaCommander#run] 自動PVモードを適用しました, target = ["+e+"]. method = "+t.method)}else i.CLog.error("[SpaCommander#run] SPAメソッドの指定がありません")}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0},u=n(0),a=n(10);var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(e){if(this.addTarget(e),this.isStart)u.CLog.warning("[TitleObserver#start] already started.");else if("undefined"!=typeof document){var t=document.querySelector("title");if(null!==t){"undefined"!=typeof MutationObserver?(this.observer=new MutationObserver(this.fire.bind(this)),this.observer.observe(t,{childList:!0,characterData:!0,subtree:!0}),u.CLog.debug("[TitleObserver#start] use MutationObserver.")):(t.addEventListener("DOMSubtreeModified",this.fire.bind(this)),u.CLog.debug("[TitleObserver#start] use dom event listener.")),this.isStart=!0}else u.CLog.warning("[TitleObserver#start] title element not found.")}else u.CLog.warning("[TitleObserver#start] document object not found.")}},{key:"fire",value:function(){var e=this;u.CLog.debug("[TitleObserver#fire] run processing."),this.options.minElapsedTime>0?setTimeout((function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",e).call(e)}),this.options.minElapsedTime):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this)}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=n(10);var a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(e){this.addTarget(e),this.isStart||(this.isStart=!0,this.fire(),o.CLog.debug("[Polling#start] start success."))}},{key:"fire",value:function(){var e=this;o.CLog.debug("[Polling#fire] run processing."),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this),this.isStart&&setTimeout((function(){e.fire()}),this.options.interval)}}]),t}(((r=u)&&r.__esModule?r:{default:r}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),a=n(1),l=(r=a)&&r.__esModule?r:{default:r},s=n(0);var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"run",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!u.Util.isString(e)||u.Util.isEmpty(e)?(s.CLog.error("[ConfigCommander#run] サブコマンドの型または値が不正",e,"type: "+(void 0===e?"undefined":i(e))),!1):u.Util.isFunction(this[e])?(this[e](t),!0):(s.CLog.error("[ConfigCommander#run] 未定義のサブコマンド",e),!1)}},{key:"accessToken",value:function(e){l.default.setAccessToken(e),s.CLog.info("[ConfigCommander#run] set access token.",e)}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=n(1),a=(r=u)&&r.__esModule?r:{default:r};var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"run",value:function(e){o.Util.isFunction(e)?e(a.default):o.CLog.error("[CoreLoggerCommander#run] 引数がfunctionではありません")}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"run",value:function(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(i.Util.isObject(n[0])?e=n[0]:n.length>=2&&i.Util.isString(n[0])&&(e[n[0]]=n[1]),i.Util.findKey(e,"log_level")){var o=e.log_level;"debug"===o||4===o?i.CLog.logLevel=4:"info"===o||3===o?i.CLog.logLevel=3:"warning"===o||2===o?i.CLog.logLevel=2:"critical"===o||1===o?i.CLog.logLevel=1:"none"!==o&&0!==o||(i.CLog.logLevel=0)}}}]),e}();t.default=o}]).default}));